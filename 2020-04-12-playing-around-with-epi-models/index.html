<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Playing Around with Epi Models - Part 0 | </title><meta name="Description" content="Some experiments with epidemiology models"><meta property="og:title" content="Playing Around with Epi Models - Part 0" />
<meta property="og:description" content="Some experiments with epidemiology models" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://demirev.github.io/2020-04-12-playing-around-with-epi-models/" />
<meta property="og:image" content="https://demirev.github.io/2020-04-12-playing-around-with-epi-models/featured-image.jpg"/>
<meta property="article:published_time" content="2020-04-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-10T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://demirev.github.io/2020-04-12-playing-around-with-epi-models/featured-image.jpg"/>
<meta name="twitter:title" content="Playing Around with Epi Models - Part 0"/>
<meta name="twitter:description" content="Some experiments with epidemiology models"/>
<meta name="application-name" content="demirev.github.io">
<meta name="apple-mobile-web-app-title" content="demirev.github.io"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://demirev.github.io/2020-04-12-playing-around-with-epi-models/" /><link rel="prev" href="https://demirev.github.io/2020-03-16-social-distancing-and-behavioiral-fatigue/" /><link rel="next" href="https://demirev.github.io/2020-04-16-age-specific-seir-model/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Playing Around with Epi Models - Part 0",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/demirev.github.io\/2020-04-12-playing-around-with-epi-models\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/demirev.github.io\/2020-04-12-playing-around-with-epi-models\/featured-image.jpg",
                            "width":  640 ,
                            "height":  427 
                        }],"genre": "posts","keywords": "models","wordCount":  545 ,
        "url": "https:\/\/demirev.github.io\/2020-04-12-playing-around-with-epi-models\/","datePublished": "2020-04-12T00:00:00+00:00","dateModified": "2020-05-10T00:00:00+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/demirev.github.io\/images\/avatar.jpg",
                    "width":  394 ,
                    "height":  394 
                }},"author": {
                "@type": "Person",
                "name": "upagge.en"
            },"description": "Some experiments with epidemiology models"
    }
    </script><script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https:\/\/demirev.github.io"
        },{
            "@type": "ListItem",
            "position": 2,
            "name": "models",
            "item": "https://demirev.github.io/categories/models/"
        },{
                "@type": "ListItem",
                "position": 3,
                "name": "Playing Around with Epi Models - Part 0"
            }]
    }
</script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="demirev.github.io" class="header-logo"><span class="header-title-pre"><i class='fas fa-pencil-alt fa-fw'></i></span>demirev.github.io</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/about/"> About </a><a class="menu-item" href="https://github.com/demirev" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="demirev.github.io" class="header-logo"><span class="header-title-pre"><i class='fas fa-pencil-alt fa-fw'></i></span>demirev.github.io</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/about/" title="">About</a><a class="menu-item" href="https://github.com/demirev" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div><main class="main"><div class="container content-article page-toc theme-classic"><div class="toc" id="toc-auto">
            <div class="toc-title">Contents</div>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><div class="header-post">
        <div class="post-title">

            <div class="post-all-meta">
            <div class="breadcrumbs">
    <a href="/">Home </a>/ <a href="/categories/models/">models </a>/ <a href="/"> Playing Around with Epi Models - Part 0 </a>
</div>
            <h1 class="single-title animated flipInX">Playing Around with Epi Models - Part 0</h1><div class="post-meta">
                <div class="post-meta-line"><span class="post-category">
                                <a href="/categories/models/"><i class="far fa-folder fa-fw"></i>&nbsp;models</a>
                            </span>&nbsp;&nbsp;&nbsp;&nbsp;<i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time class="timeago" datetime="2020-04-12">2020-04-12</time>&nbsp;&nbsp;&nbsp;&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;545 words
                    &nbsp;&nbsp;&nbsp;&nbsp;<i class="far fa-clock fa-fw"></i>&nbsp;3 minutes</div>
            </div>
        </div>


    </div>

    </div>

        <article class="single toc-start">

        <div class="content-block content-block-first content-block-position">

        <div class="post"><div class="image-theme-classic">
                <img src="/2020-04-12-playing-around-with-epi-models/featured-image.jpg" style="width: 100%">
            </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#learning-about-epidemiology">Learning about epidemiology</a></li>
    <li><a href="#age-specific-seir-model">Age-specific SEIR model</a></li>
    <li><a href="#agent-based-model-of-the-pandemic">Agent Based Model of the Pandemic</a></li>
  </ul>
</nav></div>
            </div><span class="post-update">
                    <b>Updated on 2020-05-10</b>
                </span><h2 id="learning-about-epidemiology">Learning about epidemiology</h2>
<p>Like most of you I knew next to nothing about epidemiology until a month ago. And also like most of you I am suddenly stuck at home with a lot of free time at my hands. And since it seems that in the next few months epidemiology will play a huge role in informing decision that can impact many thousands of lives, I decided that it may be a good idea to study the subject a bit in order to be able to have better informed opinions.</p>
<p>My plan was two-fold: first to go through a book on the topic, and then to find one or two mini-projects to practice what I&rsquo;ve read. I got a hold of <a href="https://www.springer.com/gp/book/9783319974866" target="_blank" rel="noopener noreffer">this</a> book, which contained some useful code snippets. As for projects, I wanted to find some models that were a) recently created by respected epidemiologists so that I was dealing with the real stuff instead of toy examples, and b) came with open-source code so I could tweak or modify it.</p>
<h2 id="age-specific-seir-model">Age-specific SEIR model</h2>
<p>The first model I was able to find that suited my goal was <a href="https://alhill.shinyapps.io/COVID19seir/" target="_blank" rel="noopener noreffer">this</a> useful and accessible dashboard by Alison Hill at Harvard&rsquo;s Program for Evolutionary Dynamics. It is a <a href="https://en.wikipedia.org/wiki/Compartmental_models_in_epidemiology" target="_blank" rel="noopener noreffer">SEIR</a>-type model that splits the population into susceptible, exposed but not infectious, exposed and infectious, asymptomatic carriers, three different severity levels of cases (mild, severe or hospitalized, and critical or ICU-bound), dead and recovered groups.</p>
<p>The model already had a good deal of complexity, and a lot of effort had gone into choosing sensible parameter values based on available clinical data. One thing that was not included in it however was a split-by age of the population.
Since COVID seems to be impacting people of various ages quite differently, it seems that incorporating an age structure into such a model would be a useful thing to do. That is what I set out to do.</p>
<p>The end result can be found <a href="https://demirev.shinyapps.io/SIRinterventions/" target="_blank" rel="noopener noreffer">here</a>. At this point the interface was getting a bit clunky, but it is still fully intractable and all parameters can be adjusted. The main difference from the original is that in my version the key parameters are vectors (one entry per age group) instead of scalars.</p>
<p>You can go ahead and check out the app or read the detailed description of the model in <a href="" rel="">this</a> post.</p>
<h2 id="agent-based-model-of-the-pandemic">Agent Based Model of the Pandemic</h2>
<p>The next model that I stumbled on is <a href="https://www.thelancet.com/journals/laninf/article/PIIS1473-3099%2820%2930457-6/fulltext" target="_blank" rel="noopener noreffer">this</a> paper by Kucharski et al. It simulates individual-level transmission in various scenarios (at home, at work, at school, or other settings) while imposing various non-pharmaceutical interventions (such as mobile app tracking, household quarantine, manual tracing etc).</p>
<p>Instead of focusing on a single individual as in the original paper, I extended this model to simulate tens of thousands of individuals split into different households, workplaces, and class-rooms (depending on their age). The agents then interact with each other driven by specified encounter probabilities within their household and work/school.</p>
<p>The effect is that this model creates a sort of local pool of susceptibles (the household or the workplace/schoolroom). This result is somewhat smaller reproductive number estimates compared to a random mixing model.</p>
<p>You can read more about this model on <a href="https://github.com/demirev/2020-cov-abm" target="_blank" rel="noopener noreffer">github</a> or the detailed write-up in <a href="" rel="">this</a> blog post.</p>
</div>

            <div class="post"><div class="post-info-share">
    <span><a class="share-icon share-twitter" href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://demirev.github.io/2020-04-12-playing-around-with-epi-models/" data-title="Playing Around with Epi Models - Part 0" data-via="georgi_demirev" data-hashtags="models"><i class="fab fa-twitter fa-fw"></i></a><a class="share-icon share-facebook" href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://demirev.github.io/2020-04-12-playing-around-with-epi-models/" data-hashtag="models"><i class="fab fa-facebook-square fa-fw"></i></a></span>
</div>
<div class="footer-post-author">
    <div class="author-avatar"><a href="demirev.github.io" target="_blank"><img alt="" src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fquiin.s3.us-east-1.amazonaws.com%2Fusers%2Fpictures%2F000%2F255%2F626%2Fmedium%2Fgeorgi_cropped.jpg%3F1599562833&amp;f=1&amp;nofb=1" border="0"></a></div>
    <div class="author-info">
        <div class="name"><a href="demirev.github.io" target="_blank">Georgi Demirev</a></div>
        <div class="number-posts">TODO: put some inspirational quote here</span></div>
    </div>
</div><div class="footer-donate">
    <div>hope you enjoyed the read</div>
</div><div class="post-footer" id="post-footer"><div class="post-navigation"><div class="post-nav-box nav-box-prev">
            <a class="nav-box" href="/2020-03-16-social-distancing-and-behavioiral-fatigue/"><span class="nav-icon"><svg aria-hidden="true" data-prefix="fas" data-icon="chevron-circle-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zM142.1 273l135.5 135.5c9.4 9.4 24.6 9.4 33.9 0l17-17c9.4-9.4 9.4-24.6 0-33.9L226.9 256l101.6-101.6c9.4-9.4 9.4-24.6 0-33.9l-17-17c-9.4-9.4-24.6-9.4-33.9 0L142.1 239c-9.4 9.4-9.4 24.6 0 34z"></path></svg></span><div style="text-align: right;padding-left: 10px"><div class="nav-text-h">Next article</div><span class="nav-text">Social Distancing and Behavioural Fatigue</span></div></a>
        </div>
        <div class="post-nav-box nav-box-next">
            <a class="nav-box" href="/2020-04-16-age-specific-seir-model/"><div style="padding-right: 10px"><div class="nav-text-h">Next article</div><span class="nav-text">Playing Around with Epi Models - Part 1</span></div><span class="nav-icon"><svg aria-hidden="true" data-prefix="fas" data-icon="chevron-circle-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm113.9 231L234.4 103.5c-9.4-9.4-24.6-9.4-33.9 0l-17 17c-9.4 9.4-9.4 24.6 0 33.9L285.1 256 183.5 357.6c-9.4 9.4-9.4 24.6 0 33.9l17 17c9.4 9.4 24.6 9.4 33.9 0L369.9 273c9.4-9.4 9.4-24.6 0-34z"></path></svg></span></a>
        </div></div></div>
</div>
        </div>
    <div id="toc-final"></div>
    </article><div class=" post-tags post-tags-toc "><a href="/tags/models/" class="tag">models</a></div><div class="page single comments content-block-position"><div id="comments"><div id="remark42" class="comment" style="padding-top: 1.5rem"></div>
            <script>
                var themeRemark = document.body.getAttribute('theme')
                var remark_config = {
                    host: 'https:\/\/comments.upagge.ru',
                    site_id: 'documentation',
                    components: ['embed'],
                    theme: themeRemark,
                    locale: 'en',
                    show_email_subscription: '',
                    page_title: 'Playing Around with Epi Models - Part 0'
                };

                (function(c) {
                    for(var i = 0; i < c.length; i++){
                        var d = document, s = d.createElement('script');
                        s.src = remark_config.host + '/web/' +c[i] +'.js';
                        s.defer = true;
                        (d.head || d.body).appendChild(s);
                    }
                })(remark_config.components || ['embed']);
            </script></div></div></div></main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.80.0">Hugo</a> | Theme - <a href="https://ublogger.netlify.app/?utm_source=https://demirev.github.io&utm_medium=footer&utm_campaign=config&utm_term=1.2.0" target="_blank" title="uBlogger 1.2.0"><i class="fas fa-pencil-alt fa-fw"></i> uBlogger</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span>2019 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="demirev.github.io" target="_blank">demirev</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.css"><script src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js"></script><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js"></script><script>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"PASDMWALPK","algoliaIndex":"index.en","algoliaSearchKey":"b42948e51daaa93df92381c8e2ac0f93","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script src="/js/theme.min.js"></script><script src="/js/jquery-3.5.1.min.js"></script></body>
</html>
